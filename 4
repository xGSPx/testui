-- // GEMINI UI LIBRARY v1.0
-- // Theme: Neon Purple x Blackish
local Library = {}

local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")
local CoreGui = game:GetService("CoreGui")

function Library:CreateWindow(Settings)
    local WindowName = Settings.Name or "Gemini UI"
    
    local Main = Instance.new("ScreenGui")
    Main.Name = "GeminiLib"
    Main.Parent = CoreGui
    Main.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

    local MainFrame = Instance.new("Frame")
    MainFrame.Name = "MainFrame"
    MainFrame.Parent = Main
    MainFrame.BackgroundColor3 = Color3.fromRGB(12, 12, 12)
    MainFrame.Position = UDim2.new(0.5, -250, 0.5, -175)
    MainFrame.Size = UDim2.new(0, 520, 0, 380)
    MainFrame.BorderSizePixel = 0
    MainFrame.Active = true
    MainFrame.Draggable = true

    -- Neon Border Glow
    local Border = Instance.new("Frame")
    Border.Size = UDim2.new(1, 2, 1, 2)
    Border.Position = UDim2.new(0, -1, 0, -1)
    Border.BackgroundColor3 = Color3.fromRGB(180, 0, 255)
    Border.ZIndex = 0
    Border.Parent = MainFrame
    Instance.new("UICorner", Border).CornerRadius = UDim.new(0, 6)
    Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 6)

    local Sidebar = Instance.new("Frame")
    Sidebar.Name = "Sidebar"
    Sidebar.Parent = MainFrame
    Sidebar.BackgroundColor3 = Color3.fromRGB(18, 18, 18)
    Sidebar.Size = UDim2.new(0, 140, 1, 0)
    Sidebar.BorderSizePixel = 0
    Instance.new("UICorner", Sidebar).CornerRadius = UDim.new(0, 6)

    local Title = Instance.new("TextLabel")
    Title.Parent = Sidebar
    Title.Text = WindowName
    Title.Size = UDim2.new(1, 0, 0, 40)
    Title.TextColor3 = Color3.fromRGB(180, 0, 255)
    Title.BackgroundTransparency = 1
    Title.TextSize = 18
    Title.Font = Enum.Font.GothamBold

    local TabContainer = Instance.new("ScrollingFrame")
    TabContainer.Parent = Sidebar
    TabContainer.Position = UDim2.new(0, 0, 0, 50)
    TabContainer.Size = UDim2.new(1, 0, 1, -60)
    TabContainer.BackgroundTransparency = 1
    TabContainer.ScrollBarThickness = 0
    local TabList = Instance.new("UIListLayout", TabContainer)
    TabList.Padding = UDim.new(0, 5)

    local ContentHolder = Instance.new("Frame")
    ContentHolder.Parent = MainFrame
    ContentHolder.Position = UDim2.new(0, 150, 0, 10)
    ContentHolder.Size = UDim2.new(1, -160, 1, -20)
    ContentHolder.BackgroundTransparency = 1

    local Tabs = {}
    function Tabs:CreateTab(name)
        local TabBtn = Instance.new("TextButton")
        local Page = Instance.new("ScrollingFrame")
        
        -- Page Logic
        Page.Parent = ContentHolder
        Page.Size = UDim2.new(1, 0, 1, 0)
        Page.BackgroundTransparency = 1
        Page.Visible = false
        Page.ScrollBarThickness = 2
        Page.ScrollBarImageColor3 = Color3.fromRGB(180, 0, 255)
        Instance.new("UIListLayout", Page).Padding = UDim.new(0, 8)

        -- Tab Button Logic
        TabBtn.Parent = TabContainer
        TabBtn.Size = UDim2.new(1, -10, 0, 30)
        TabBtn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
        TabBtn.Text = name
        TabBtn.TextColor3 = Color3.fromRGB(200, 200, 200)
        TabBtn.Font = Enum.Font.Gotham
        TabBtn.TextSize = 14
        Instance.new("UICorner", TabBtn).CornerRadius = UDim.new(0, 4)

        TabBtn.MouseButton1Click:Connect(function()
            for _, v in pairs(ContentHolder:GetChildren()) do
                if v:IsA("ScrollingFrame") then v.Visible = false end
            end
            for _, v in pairs(TabContainer:GetChildren()) do
                if v:IsA("TextButton") then v.TextColor3 = Color3.fromRGB(200, 200, 200) end
            end
            Page.Visible = true
            TabBtn.TextColor3 = Color3.fromRGB(180, 0, 255)
        end)

        local Elements = {}

        -- BUTTON ELEMENT
        function Elements:CreateButton(cfg)
            local Btn = Instance.new("TextButton")
            Btn.Parent = Page
            Btn.Size = UDim2.new(1, -10, 0, 35)
            Btn.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
            Btn.Text = "  " .. cfg.Name
            Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            Btn.TextXAlignment = Enum.TextXAlignment.Left
            Instance.new("UICorner", Btn)
            
            Btn.MouseButton1Click:Connect(function()
                cfg.Callback()
                Btn.TextColor3 = Color3.fromRGB(180, 0, 255)
                wait(0.1)
                Btn.TextColor3 = Color3.fromRGB(255, 255, 255)
            end)
        end

        -- TOGGLE ELEMENT
        function Elements:CreateToggle(cfg)
            local Toggled = cfg.CurrentValue or false
            local Tgl = Instance.new("TextButton")
            Tgl.Parent = Page
            Tgl.Size = UDim2.new(1, -10, 0, 35)
            Tgl.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
            Tgl.Text = "  " .. cfg.Name .. (Toggled and " [ON]" or " [OFF]")
            Tgl.TextColor3 = Toggled and Color3.fromRGB(180, 0, 255) or Color3.fromRGB(255, 255, 255)
            Tgl.TextXAlignment = Enum.TextXAlignment.Left
            Instance.new("UICorner", Tgl)

            Tgl.MouseButton1Click:Connect(function()
                Toggled = not Toggled
                Tgl.TextColor3 = Toggled and Color3.fromRGB(180, 0, 255) or Color3.fromRGB(255, 255, 255)
                Tgl.Text = "  " .. cfg.Name .. (Toggled and " [ON]" or " [OFF]")
                cfg.Callback(Toggled)
            end)
        end

        -- SLIDER ELEMENT
        function Elements:CreateSlider(cfg)
            local SliderFrame = Instance.new("Frame")
            SliderFrame.Parent = Page
            SliderFrame.Size = UDim2.new(1, -10, 0, 45)
            SliderFrame.BackgroundColor3 = Color3.fromRGB(22, 22, 22)
            Instance.new("UICorner", SliderFrame)

            local Label = Instance.new("TextLabel", SliderFrame)
            Label.Text = "  " .. cfg.Name
            Label.Size = UDim2.new(1, 0, 0, 20)
            Label.BackgroundTransparency = 1
            Label.TextColor3 = Color3.fromRGB(255, 255, 255)
            Label.TextXAlignment = Enum.TextXAlignment.Left

            local Bar = Instance.new("Frame", SliderFrame)
            Bar.Position = UDim2.new(0, 10, 0, 25)
            Bar.Size = UDim2.new(1, -20, 0, 6)
            Bar.BackgroundColor3 = Color3.fromRGB(40, 40, 40)

            local Fill = Instance.new("Frame", Bar)
            Fill.Size = UDim2.new(0.5, 0, 1, 0)
            Fill.BackgroundColor3 = Color3.fromRGB(180, 0, 255)

            local function Update()
                local percent = math.clamp((UserInputService:GetMouseLocation().X - Bar.AbsolutePosition.X) / Bar.AbsoluteSize.X, 0, 1)
                Fill.Size = UDim2.new(percent, 0, 1, 0)
                local val = math.floor(cfg.Range[1] + (percent * (cfg.Range[2] - cfg.Range[1])))
                cfg.Callback(val)
            end

            Bar.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    local move; move = UserInputService.InputChanged:Connect(function(input)
                        if input.UserInputType == Enum.UserInputType.MouseMovement then Update() end
                    end)
                    UserInputService.InputEnded:Connect(function(input)
                        if input.UserInputType == Enum.UserInputType.MouseButton1 then move:Disconnect() end
                    end)
                end
            end)
        end

        return Elements
    end
    return Tabs
end

return Library
